<!--

Instructions assume the use of Windows with Chrome and a version of iOS where files can not be freely transferred

One Time steps:
Step 1: Create a folder somewhere for organisation (Optional)
Step 2: Create HTML file in the folder (or wherever you're storing these files)
Step 3: Painstakingly re-handwrite the HTML code below.
Step 4: Create a Windows shortcut file linking to (include all the double quotes):

(Be sure to replace <path to your html file> with the path!!)

"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" file:///C:/<path to your html file>.html --disable-web-security --user-data-dir=""

Each Time Steps (for future files you will receive from me for this)
Step 1: Save CrimesAgainstJavaScript.exe.png from your email. (this will serve as a less cumbersome decompiler)
Step 2: Plug your phone into your computer and be sure to adhere to the "trust this computer" prompt of it shows up.
Step 3: Find the image manually on your iPhone using Windows explorer
(It's really easy to find it in the explorer because pictures is the the only service Apple lets you access this way)
Step 4: Place the image file in the directory that your custom Chrome shortcut is located.
Step 5: Rename the image to "data.png"
Step 6: Close Chrome and all of its windows if it is already open.
Step 7: Run the Chrome shortcut
Step 8: Locate where the file "download" has been saved to and rename it appropriately with the correct file extension.
Step 9: Enjoy your new file.

-->


<p>Don't you just love my HTML file?</p>
<img hidden="true" src="data.png">
<canvas>
<script>
window.onload = function() {
    var img = document.getElementsByTagName("img")[0];
    var canvas = document.getElementsByTagName("canvas")[0];

    canvas.width = img.width;
    canvas.height = img.height;

    var context = canvas.getContext("2d");
    context.drawImage(img,0,0);

    var image = context.getImageData(0,0,canvas.width,canvas.height);
    var bytes = new Uint8Array(image.data.length/4);

    for (var i=0;i<image.data.length;i+=4) {
        if(image.data[i+3] != 255) {
            bytes = bytes.slice(0,i/4)
            break;
        }
        bytes[i/4]=image.data[i];
    }

    var blob = new Blob([bytes], {type: "application/octet-stream"});
    var reader = new FileReader();

    reader.onload = function(e){
        window.location.href = reader.result;
    }
    reader.readAsDataURL(blob);
}
</script>
